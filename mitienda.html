<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Tienda cuidados paliativos</title>
</head>
<body>
    <h1 id="welcomeMessage"></h1>
    <p>Somos un grupo sin fines de lucro dispuesto a brindar ayuda a pacientes en cuidados paliativos en situación de vulnerabilidad social y sus familias.</p>

    <div class="form-container">
       
       <h2>Catálogo de Productos</h2>

            <div class="product">
                <img src="bolsita1.jpg" width="200" alt="bolsita">
                <div class="product-info">
                    <span>bolsita1 "Cuando pienses en las personas por las que valen la pena luchar. no olvides incluirte"</span>

                    <span>$250</span>
                </div>
                <p class="review">"Me encanta comprar sabiendo que es por una buena causa." - Juan</p>
                <button onclick="agregarAlCarrito('Bolsita', 250)">Agregar al carrito</button>
            </div>
            <br>
            <div class="product">
                <img src="bolsita2.jpg" width="200" alt="bolsita2" class="product-image">
                <div class="product-info">
                    <span> bolsita2 "donde sea que la vida te plante, florece"</span>
                    <span>$250</span>
                    <br>
                </div>
                <p class="review">"Gracias por ayudar a las personas, me encanta." - María</p>
                <button onclick="agregarAlCarrito('Producto 2', 250)">Agregar al carrito</button>
            </div>
            <br>
            <div class="product">
                <img src="bolsita3.jpg" alt="Producto 3" class="product-image">
                <div class="product-info">
                    <span>Producto 3</span>
                    <span>$30</span>
                </div>
                <p class="review">"No me lo esperaba tan bueno, ¡me encantó!" - Pedro</p>
                <button onclick="agregarAlCarrito('Producto 3', 30)">Agregar al carrito</button>
            </div>

            <div class="product">
                <img src="ruta/a/tu/imagen4.jpg" alt="Producto 4" class="product-image">
                <div class="product-info">
                    <span>Producto 4</span>
                    <span>$40</span>
                </div>
                <p class="review">"Producto de alta calidad, vale cada peso." - Ana</p>
                <button onclick="agregarAlCarrito('Producto 4', 40)">Agregar al carrito</button>
            </div>
        </div>

        <div class="carrito">
            <h2>Carrito de Compras</h2>
            <div id="carritoItems">
                <p class="empty-cart">El carrito está vacío.</p>
            </div>
            <div id="total">Total: $0</div>
            <button id="checkout" onclick="finalizarCompra()">Finalizar Compra</button>
            <button id="contacto" onclick="mostrarContacto()">Contacto de la tienda</button>
        </div>
    </div>

    <script>
        let carrito = [];
        let totalCompra = 0;

        const urlParams = new URLSearchParams(window.location.search);
        const userName = urlParams.get('name');

        document.getElementById('welcomeMessage').textContent = `Bienvenid@, ${userName}! Es un placer tenerte en nuestra tienda de cuidados paliativos`;
        
        function agregarAlCarrito(producto, precio) {
            carrito.push({ producto, precio });
            totalCompra += precio;
            mostrarCarrito();
        }

        function mostrarCarrito() {
            const carritoItems = document.getElementById('carritoItems');
            carritoItems.innerHTML = '';  

            if (carrito.length === 0) {
                carritoItems.innerHTML = '<p class="empty-cart">El carrito está vacío.</p>';
            } else {
                carrito.forEach(item => {
                    const div = document.createElement('div');
                    div.textContent = `${item.producto} - $${item.precio}`;
                    carritoItems.appendChild(div);
                });
            }

            document.getElementById('total').textContent = `Total: $${totalCompra}`;
        }

        function finalizarCompra() {
            if (carrito.length === 0) {
                alert("Tu carrito está vacío, no puedes finalizar la compra.");
            } else {
                alert(`¡Gracias por tu compra, ${userName}! Has ayudado a muchas personas. Has gastado $${totalCompra}.`);
                carrito = [];
                totalCompra = 0;
                mostrarCarrito();
            }
        }

        function mostrarContacto() {
            alert('Tienda cuidados paliativos\nTeléfono: 098 354 851\nEmail: marianoelrodriguez02@gmail.com');
        }
    </script>
</body>
</html>
